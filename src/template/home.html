<!DOCTYPE html>
<html>
<head>
  <style>
body {
  background-color: lightblue;
}

h1 {
  text-align: center;
  right: 350px;
  display: inline;
  position: absolute;
  top: 150px;
}

button {
  text-align: center;
  right: 850px;
  display: inline;
  position: absolute;
  top: 150px;
}

</style>

</head>
<body>


<h2>Email</h2>

  <textarea name="message" id="myInput" rows="25" cols="100">Enter Email</textarea>
  <button id="myBtn" onclick="email_classify()">Validate</button>
  <h1 id="validated_mail"></h1>
<script>

function email_classify(){

var input = document.getElementById("myInput");
var txt = input.value

if(txt.length == 0){
alert("Enter Email to classify.")
return;
}

var xmlhttp = new XMLHttpRequest();
var url = 'EmailClassifySet';
var data = JSON.stringify({mail:txt});
xmlhttp.open('POST', url, true);

//Send the proper header information along with the request
xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

xmlhttp.onreadystatechange = function() {//Call a function when the state changes.
    if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
          var mal = document.getElementById("validated_mail");
          mal.innerText = JSON.parse(xmlhttp.responseText).message;

     //   alert("success");
    }else if(xmlhttp.readyState == 4 && xmlhttp.status != 200){
    //	alert("failure");
    mal.innerText = "";
    }
}
xmlhttp.send(data);


}
</script>

</body>
</html>
